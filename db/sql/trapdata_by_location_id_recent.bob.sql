-- Code generated by BobGen psql v0.0.4-0.20260105020634-53e08d840e47+dirty. DO NOT EDIT.
-- This file is meant to be re-generated in place and/or deleted at any time.

-- TrapDataByLocationIDRecent
SELECT enddatetime, globalid, loc_id
FROM (
	SELECT enddatetime, globalid, loc_id, ROW_NUMBER()
	OVER (PARTITION BY loc_id ORDER BY enddatetime DESC) as row_num
	FROM fieldseeker.trapdata
	WHERE 
		organization_id = $1 AND
		loc_id IN ($2)
) ranked_data
WHERE row_num <= 10
ORDER BY enddatetime DESC;
